{% extends 'template.html' %}

{% block stylesheets %}
{% load static %}
<link href="{% static 'website/css/search.css' %}" rel="stylesheet">
<link href="{% static 'website/css/search.mobile.css' %}" rel="stylesheet">
{% endblock %}

{% block scripts %}
<script type="text/javascript">
    var defaultSearchValue = "{{ query }}";
</script>
{% endblock %}

{% block content %}
<div id="searchResultMessage">
Search results for <strong>{{ query }}</strong>:
</div>
<section id="content">
    <div id="searchResultHeader">
        <div id="podcastLabel">Podcast</div>
        <div id="statsLabel">
            <span id="statsLabelSubscribers">Subscribers</span>
        </div>
    </div> 
    {{ test }}
    {% if results|length > 0 %}
        {% for result in results %}
            {% if forloop.counter|divisibleby:2 %}
                <div class="searchResult odd">
            {% else %}
                <div class="searchResult">
            {% endif %}
                {# left side of search result #}
                <img src="{{ result.scaled_logo_url }}" class="thumbnail" 
                        onerror="this.src='{% static 'website/imgs/thumbnail.jpeg' %}'">

                {# right side of search result - show popularity of result #}
                <div class="stats">
                    <span class="subscribers">
                        {{ result.subscribers }}
                    </span>
                </div>

                {# center of search result - basic data like name and desc #}
                <div class="metadata">
                    <div class="title">
                        <a href="/podcast/{{ result.idName }}">
                            {{ result.title }}
                        </a>
                    </div>
                    <div class="description">{{ result.description }}</div>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div id="noResultMessage">
            <span>Your search did not return any results.</span>
            <div>
                <span>Suggestions:</span>
                <ul>
                    <li>Make sure that all words are spelled correctly</li>
                    <li>Try different keywords</li>
                    <li>Try more general keywords</li>
                    <li>Try fewer keywords</li>
                    <li>Explore podcasts by tag</li>
                </ul>
            </div>
        </div>
    {% endif %}

</section>
{% endblock %}